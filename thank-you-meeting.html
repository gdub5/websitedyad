<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-NBY5S8NN8Y"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-NBY5S8NN8Y');
  </script>

  <!-- Microsoft Clarity -->
  <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "vbxw3wfw1e");
  </script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Thanks for scheduling! | Dyad CX</title>
  <meta name="description" content="Your meeting has been scheduled. Here's what to expect.">
  <meta name="robots" content="noindex">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="images/favicon.png">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Styles -->
  <link rel="stylesheet" href="css/styles.css">

  <style>
    .meeting-details {
      background: var(--color-light-gray);
      border-left: 4px solid var(--color-success);
      border-radius: var(--radius-lg);
      padding: var(--space-6);
      margin: var(--space-6) 0;
    }

    .meeting-info {
      margin-top: var(--space-4);
    }

    .meeting-info-item {
      display: flex;
      align-items: center;
      margin: var(--space-3) 0;
      font-size: 1rem;
    }

    .meeting-icon {
      margin-right: var(--space-3);
      font-size: 1.25rem;
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header" id="header">
    <nav class="nav container">
      <a href="/" class="logo">
        <img src="images/fullLogo-transparentbackground.png" alt="Dyad CX">
      </a>

      <ul class="nav-links" id="nav-links">
        <li><a href="/#home">Home</a></li>
        <li><a href="/#services">Services</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="/#contact">Contact</a></li>
      </ul>

      <a href="/#contact" class="btn btn-primary nav-cta">Let's Talk</a>

      <button class="hamburger" id="hamburger" aria-label="Toggle navigation menu" aria-expanded="false">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </nav>
  </header>

  <main class="thankyou-page">
    <div class="thankyou-content">
      <div class="thankyou-icon">
        <!-- Checkmark icon -->
        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="20 6 9 17 4 12"></polyline>
        </svg>
      </div>
      <h1 id="thank-you-heading">We're scheduled!</h1>

      <!-- Meeting details section (hidden by default, shown when parameters are available) -->
      <div id="meeting-details" class="meeting-details" style="display: none;">
        <p><strong>Your meeting is confirmed:</strong></p>
        <div class="meeting-info">
          <div class="meeting-info-item">
            <span class="meeting-icon">üìÖ</span>
            <span id="meeting-datetime"></span>
          </div>
          <div class="meeting-info-item" id="meeting-duration-wrapper">
            <span class="meeting-icon">‚è±Ô∏è</span>
            Duration: <span id="meeting-duration"></span>
          </div>
        </div>
      </div>

      <p>Your meeting is confirmed. I'm looking forward to our conversation.</p>

      <p><strong>Here's what to expect:</strong></p>
      <ul>
        <li>I'll come prepared to discuss your specific situation</li>
        <li>We'll focus on identifying what's blocking AI success in your operation</li>
        <li>No sales pitch‚Äîjust a practical conversation about what it takes to close the gap between AI investment and results</li>
      </ul>

      <p><strong>Want to make the most of our time together? Think about:</strong></p>
      <ul>
        <li>What prompted you to invest in AI (or consider it)</li>
        <li>What's not working the way you expected</li>
        <li>What success would look like for your team</li>
      </ul>

      <div class="thankyou-cta">
        <a href="/" class="btn btn-secondary btn-large">Back to Home</a>
      </div>
    </div>
  </main>

  <!-- JavaScript -->
  <script src="js/main.js"></script>

  <!-- Meeting Parameter Handling -->
  <script>
    (function() {
      'use strict';

      // Parse Zoom URL parameters
      function getZoomParams() {
        const params = new URLSearchParams(window.location.search);
        return {
          name: params.get('bookerDisplayName'),
          email: params.get('bookerEmail'),
          start: params.get('start'),
          end: params.get('end'),
          timeZone: params.get('timeZone'),
          summary: params.get('summary'),
          assignedTo: params.get('assignedTo')
        };
      }

      // Calculate duration in minutes from start and end times
      function calculateDuration(startISO, endISO) {
        try {
          const start = new Date(startISO);
          const end = new Date(endISO);
          if (isNaN(start.getTime()) || isNaN(end.getTime())) return null;

          const durationMs = end - start;
          const durationMinutes = Math.round(durationMs / (1000 * 60));
          return durationMinutes;
        } catch (e) {
          return null;
        }
      }

      // Format date/time for display
      function formatDateTime(isoString, timezone) {
        try {
          const date = new Date(isoString);
          if (isNaN(date.getTime())) return null;

          const options = {
            weekday: 'long',
            year: 'numeric',
            month: 'long',
            day: 'numeric',
            hour: 'numeric',
            minute: '2-digit',
            timeZone: timezone || undefined
          };

          let formatted = date.toLocaleString('en-US', options);

          // Add timezone abbreviation if provided
          if (timezone) {
            const tzAbbr = date.toLocaleString('en-US', {
              timeZoneName: 'short',
              timeZone: timezone
            }).split(' ').pop();
            formatted += ' ' + tzAbbr;
          }

          return formatted;
        } catch (e) {
          return null;
        }
      }

      // Update page on load
      document.addEventListener('DOMContentLoaded', function() {
        const params = getZoomParams();
        const heading = document.getElementById('thank-you-heading');
        const meetingDetails = document.getElementById('meeting-details');

        // If we have name or start time, personalize the page
        if (params.name || params.start) {
          // Update heading with booker's name
          if (params.name && heading) {
            heading.textContent = 'Thanks, ' + params.name + '!';
          }

          // Populate and show meeting details
          if (params.start && meetingDetails) {
            const dateTimeEl = document.getElementById('meeting-datetime');
            const durationEl = document.getElementById('meeting-duration');

            const formattedDate = formatDateTime(params.start, params.timeZone);
            if (formattedDate && dateTimeEl) {
              dateTimeEl.textContent = formattedDate;
              meetingDetails.style.display = 'block';
            }

            // Calculate and display duration
            if (params.end && durationEl) {
              const duration = calculateDuration(params.start, params.end);
              if (duration) {
                durationEl.textContent = duration + ' minutes';
              }
            }
          }
        }
      });
    })();
  </script>
</body>
</html>
